<app-header></app-header>


  <div class="col-xs-10 col-sm-8 col-md-6 col-xs-offset-1 col-sm-offset-2 col-md-offset-3">
<div class="formCard">
<form (ngSubmit)="onSubmit(f)" #f="ngForm">

    <h3>Change Password:</h3>
    <p>Username: <span>{{user.username}}</span></p>
    <p>Email: <span>{{user.email}}</span></p>
      <div class="form-group">
        <label for="password">New Password:</label>
        <input
          type="password"
          id="password"
          name="password"
 	  ngModel
          #password="ngModel"
          class="form-control" required minlength="5"/>
      </div>    
   <div class="alert alert-warning" *ngIf="password.hasError('minlength') && password.touched">Pasasword must be 5 characters minimum.</div>
       <div class="form-group">
        <label for="password">Password:</label>
        <input
          type="password"
          id="password2"
          name="password2"
          ngModel
          #password2="ngModel"
          class="form-control" required />
      </div>
   <div class="alert alert-warning" *ngIf="password2.touched && password.touched && password2.value !== password.value">Passwords do not match.</div>
    <div class="alert alert-danger" role="alert"  *ngIf="changePwError !== ''">{{changePwError}}</div>
     <br/>
    <button class="btn btn-default btn-block"  type="submit" [disabled]="!f.valid || !passwordsMatch()">Change Password</button><br />
    
    <div class="clr"></div>

</form>
</div>

</div>


<app-footer></app-footer>



<div class="modal fade" id="passwordResetModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header"><img src="public/img/xoIcon.png" width="30px" style="float:left; margin-right:15px"/>
        <button class="close" type="button" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Password Reset!!</h4>
      </div>
      <div class="modal-body">
        <h5>Your password has been successfully reset!</h5>
      </div>
      <div class="modal-footer">
    <button class="btn btn-default" type="button" (click)="passwordChangedOk()">OK</button>
</div>